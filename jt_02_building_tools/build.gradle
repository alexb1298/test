plugins {
    id 'java'
}


//the plugin for command run
apply plugin : 'application'
mainClassName="Main"


group 'alex'
version '1.0'

repositories {
    mavenCentral()
}

dependencies {
    compile "joda-time:joda-time:2.2"
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.11'
    //compiling the libs to be included in the generated jar
    compile files(fileTree(dir: 'lib', includes: ['*.jar']))
}

test {
    useJUnitPlatform()
}

//task for build a zip file
//you can find the zip in build/distributions
task buildZip(type: Zip) {
    from compileJava
    from processResources
    into('lib') {
        from configurations.runtime
    }
}

jar{
    manifest{
        attributes 'Main-Class' : 'Main'
    }
    from configurations.runtime.collect { zipTree(it)}
}